---
title: "graphs"
author: "Nidal"
date: "4/24/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE,
                      warning = FALSE,
                      message = FALSE)

library(tidyverse)
library(broom)
library(readxl)
library(janitor)
library(tidymodels)
library(rpart.plot)
library(ggiraphExtra)
library(moderndive)
library(plotly)

load("data/regime_coup.rds")

regime_full$realized_coup <- as_factor(regime_full$realized_coup)

regime_full <- regime_full %>% 
  filter(!is.na(realized_coup)) %>% 
  filter(!is.na(control))

```


```{r}


x <- ggplot(regime_full, aes(x = control, y = polity, color = factor(realized_coup))) +
  geom_jitter(aes(frame = year_of_event, ids = country_where_action_occurred)) +
  labs(x = "Government centralization from 1 (least centralized) to 3 (most centralized)",
       y = "Polity IV score (-10 is most autocratic, +10 is the most democratic",
       color = "Coup outcome:") +
  scale_color_discrete(labels = c("Failed", "Succeeded"))


ggplotly(x)


  
```

